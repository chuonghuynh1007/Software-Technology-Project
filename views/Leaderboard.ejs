<!doctype html>
<html lang="en">
<head>
<title>Bootstrap Vertical Tab Menus</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/css/leaderboard.css">
<script src="https://kit.fontawesome.com/7c97a72e23.js" crossorigin="anonymous"></script>
<script  type="text/javascript" src="/js/leaderboard.js"></script>
</head>
<body>
<div class="container">
    <div class="d-flex align-items-start">

      <!-- Tab bar (vertical) -->
      <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
        <button class="nav-link active" id="v-pills-all-tab" data-bs-toggle="pill" data-bs-target="#v-pills-all" type="button" role="tab" aria-controls="v-pills-all" aria-selected="true">All</button>
        <% for(let tag of tags) { %>
            <button class="nav-link" id="v-pills-<%= tag.id_tag%>-tab" data-bs-toggle="pill" data-bs-target="#v-pills-<%= tag.id_tag%>" type="button" role="tab" aria-controls="v-pills-<%=tag.id_tag%>" aria-selected="false"><%= tag.name_tag %></button>
        <% } %>
      </div>

      <!-- content tab (include table) -->
      <div class="tab-content" id="v-pills-tabContent">

        <div class="tab-pane fade show active" id="v-pills-all" role="tabpanel" aria-labelledby="v-pills-all-tab" tabindex="0">
          <table class="table">
              <tr>
              <th scope="col" class="ranknum">No.</th>
              <th scope="col">
                  Name of doctor
              </th>
              <th scope="col">Like</th>
              <th scope="col">Name of rank</th>
              </tr>
          <tbody class="table-body">
            <%var i = 1;
            var top10 = docs.slice(0, 10);
            %>
            <!-- table's row -->
            <% for(let doc of top10) { %>
              <% switch (i){
                case(1):  %>
              <tr class="first-row">
              <th scope="row">
                  <i class="fa-solid fa-medal fa-xl" style="color: rgb(227, 219, 0); "></i>
                  <%= i%>
              </th>
              <td >
                  <img class="avatar" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCO5640zzIWNfxqqoQQjwoyvt5-CRgX_U3tg&usqp=CAU" alt="Nani">
                  <%= doc.name%>
              </td>
              <td><%= doc.sum_like%></td>
              <td>Đệ nhất Bác sĩ </td>
              </tr>
              <% break;%>

              <%case(2):  %>
              <tr class="second-row">
              <th scope="row">
                  <i class="fa-solid fa-medal fa-xl" style="color: rgb(182, 182, 182);"></i>
                  <%= i%>
              </th>
              <td >
                  <img class="avatar" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCO5640zzIWNfxqqoQQjwoyvt5-CRgX_U3tg&usqp=CAU" alt="Nani">
                  <%= doc.name%>
              </td>
              <td><%= doc.sum_like%></td>
              <td>Đệ nhị Bác sĩ</td>
              </tr>
              <% break;%>

              <%case(3):  %>
              <tr class="third-row">
              <th scope="row">
                  <i class="fa-solid fa-medal fa-xl" style="color: rgb(229, 161, 15);"></i>
                  <%= i%>
              </th>
              <td>
                  <img class="avatar" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCO5640zzIWNfxqqoQQjwoyvt5-CRgX_U3tg&usqp=CAU" alt="Nani">
                  <%= doc.name%></td>
              <td><%= doc.sum_like%></td>
              <td>Đệ tam Bác sĩ</td>
              </tr>
              <% break;%>

              <%default: %>
              <tr class="table-light">
                  <th scope="row">
                      <%= i%>
                  </th>
                  <td>
                      <img class="avatar" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCO5640zzIWNfxqqoQQjwoyvt5-CRgX_U3tg&usqp=CAU" alt="Nani">
                      <%= doc.name%></td>
                  <td><%= doc.sum_like%></td>
                  <td>Bác sĩ hạ đảk</td>
              </tr>
              <% } %>
              <%i++;}%>
          </tbody>
          </table>
        </div>

        <% for(let tag of tags) {
          i = 1;
          var res = docs.filter(findTag);
          function findTag(doc){
            return doc.id_tag==tag.id_tag;
          }%>
          <div class="tab-pane fade" id="v-pills-<%= tag.id_tag%>" role="tabpanel" aria-labelledby="v-pills-<%= tag.id_tag%>-tab" tabindex="0">
          <!-- table's header -->
          <table class="table">
              <tr>
              <th scope="col" class="ranknum">No.</th>
              <th scope="col">
                  Name of doctor
              </th>
              <th scope="col">Like</th>
              <th scope="col">Name of rank</th>
              </tr>
          <tbody class="table-body">

            <!-- table's row -->
            <% for(let doc of res) { %>
              <% switch (i){
                case(1):  %>
              <tr class="first-row">
              <th scope="row">
                  <i class="fa-solid fa-medal fa-xl" style="color: rgb(227, 219, 0); "></i>
                  <%= i%>
              </th>
              <td >
                  <img class="avatar" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCO5640zzIWNfxqqoQQjwoyvt5-CRgX_U3tg&usqp=CAU" alt="Nani">
                  <%= doc.name%>
              </td>
              <td><%= doc.sum_like%></td>
              <td>Đệ nhất <%=tag.name_tag%> </td>
              </tr>
              <% break;%>

              <%case(2):  %>
              <tr class="second-row">
              <th scope="row">
                  <i class="fa-solid fa-medal fa-xl" style="color: rgb(182, 182, 182);"></i>
                  <%= i%>
              </th>
              <td >
                  <img class="avatar" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCO5640zzIWNfxqqoQQjwoyvt5-CRgX_U3tg&usqp=CAU" alt="Nani">
                  <%= doc.name%>
              </td>
              <td><%= doc.sum_like%></td>
              <td>Đệ nhị <%=tag.name_tag%></td>
              </tr>
              <% break;%>

              <%case(3):  %>
              <tr class="third-row">
              <th scope="row">
                  <i class="fa-solid fa-medal fa-xl" style="color: rgb(229, 161, 15);"></i>
                  <%= i%>
              </th>
              <td>
                  <img class="avatar" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCO5640zzIWNfxqqoQQjwoyvt5-CRgX_U3tg&usqp=CAU" alt="Nani">
                  <%= doc.name%></td>
              <td><%= doc.sum_like%></td>
              <td>Đệ tam <%=tag.name_tag%></td>
              </tr>
              <% break;%>

              <%default: %>
              <tr class="table-light">
                  <th scope="row">
                      <%= i%>
                  </th>
                  <td>
                      <img class="avatar" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCO5640zzIWNfxqqoQQjwoyvt5-CRgX_U3tg&usqp=CAU" alt="Nani">
                      <%= doc.name%></td>
                  <td><%= doc.sum_like%></td>
                  <td>Loser</td>
              </tr>
              <% } %>
              <%i++;}%>
          </tbody>
          </table>
        </div>
      <%}%>
    </div>
	</div>
</div>


</tr>
</body>
</html>
